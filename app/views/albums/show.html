{% extends '../layouts/default.html' %}

{% block main %}
  <h1>{{ article.title }}</h1>
{% endblock %}

{% block content %}
  <style>
  .gridster{
    height:500px;
  }
  .gridster div div{
    
      background-color: red;
  }
  .gridster [class*="col-"] {
    padding-top: 15px;
    padding-bottom: 15px;
    background-color: #eee;
    background-color: rgba(86,61,124,.15);
    border: 1px solid #ddd;
    border: 1px solid rgba(86,61,124,.2);
  }
  .one{
    width: calc(100% / 3);
    height: calc(100% / 3 * 2);
    background-color: red;
  }
  .two{
    width: calc(100% / 3);
    height: calc(100% / 3 * 1);
    background-color: green;
  }

  </style>
  <div class="gridster">
      
<!--     {% for article in "1234567890" %}
      <li data-row="1" data-col="1" data-sizex="1" data-sizey="1">{{article}}</li>
    {% endfor %} -->
      <div class="one">1</div>
      <div class="two">2</div>
  </div>
  <div class="row">
    <div class="col-md-8">
      <p>{{ article.body }}</p>
      <div class="meta">
        {% if (article.user) %}
          Author: &nbsp;
          <a href="{{ '/users/' + article.user._id }}">
            {{ article.user.name || article.user.username }}
          </a>
        {% endif %}
        {% if (article.tags) %}
          <p>
            Tags: &nbsp;
            {% for tag in article.tags.split(',') %}
              <i class="muted fa fa-tag"></i>&nbsp;
              <a href="{{ '/tags/ ' + tag }}" class="tag">{{ tag }}</a>
              &nbsp;&nbsp;
            {% endfor %}
          </p>
        {% endif %}
        <span class="muted">{{ article.createdAt.toISOString()|date('M d, Y  h:m a') }}</span>
      </div>
    </div>
    <div class="col-md-4">
      {% if (!article.isNew && article.image && article.image.files && article.image.files.length) %}
        <img src="{{ article.image.cdnUri + '/mini_' + article.image.files[0] }}" alt="">
      {% endif %}
    </div>
  </div>

  <form action="{{ '/articles/' + article.id }}" method="post" onsubmit="return confirm('Are you sure?')">
    <br>
    <input type="hidden" name="_csrf" value="{{ csrf_token }}">
    <a href="{{ '/articles/' + article._id + '/edit' }}" title="edit" class="btn btn-default">
      Edit
    </a>
    &nbsp;
    <input type="hidden" name="_method" value="DELETE">
    <button class="btn btn-danger" type="submit">Delete</button>
  </form>

  <br>
  <h3>Comments</h3>
  {% for comment in article.comments %}
    {% include '../comments/comment.html' %}
  {% endfor %}
  {% include '../comments/form.html' %}
{% endblock %}
{% block subfoot %}
<script type="text/javascript">
  $(function(){ //DOM Ready
 
    $(".gridster ul").gridster({
        widget_margins: [12, 12],
        widget_base_dimensions: [140, 140],
        resize: {
            enabled: true
        }
    });
 
});
</script>
{% endblock %}

